<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    // reduce 是数组的一个方法  参数是一个回调函数
    // 回调有四个参数 依次是 prev curr  index arr
    // prev 上一次的值 并且作为下一次循环的初始值
    // curr 当前这一次循环的值
    // index  当前值在数组里面的索引号
    // arr 我们reduce前面遍历的数组

    // 1. 利用reduce 计算累加值
    var list = [1,2,3]
    let sum = list.reduce((prev,curr,index,arr) =>{
      // console.log(prev,curr,index,arr);
      prev += curr
      return prev
    },0)
    // console.log(sum);

    // 实现多个数组去重 或者找相同
    var arr1 = [1,2,3,4,5,6,7,8,9,0]
    var arr2 = [2,4]
    var arr3 = [2,,9]
    var arr4 = [0,2]

    // 类似于 lodash 里面的 differenceBy 方法
    function myArr(...args){
      return args.reduce((prev,curr) => {
        // 如果不屑reduce 第二个参数 那么prev初始值就是 args[0]
        return prev.filter(item => {
          // includes() 方法用来判断一个数组是否包含一个指定的值，如果是返回 true，否则false。
          return !curr.includes(item) // 取反是去重  否则是找相同
        })
      })
    }
    // console.log(myArr(arr1,arr2,arr3,arr4));

    // 将一个数字 转为千分位的形式 10,000,000
    var str = "10000000000"
    // split 字符串转 数组  join 数组转字符串  默认有逗号分隔  reverse 反转
    console.log(str.split('').reverse().reduce((prev,curr,index) => {
      // 每隔三位添加一个逗号
      if(index % 3 === 0 && index != 0) {
        prev.push(',')
      }
      prev.push(curr)
      //  把上一次的结果 作为下一次的循环的初始值
      return prev
    }, [])
    .reverse().join('')
    );


    // console.log(str.split('').reduce((prev,curr,index) => {
    //   if(index % 3 === 0 && index!=0) {
    //     prev.push(',')
    //   }
    //   prev.push(curr)
    //   return prev
    // },[]).join(''));
  </script>
</body>
</html>